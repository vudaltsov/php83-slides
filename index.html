<html lang="ru">
<head>
    <meta charset="utf-8">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/reset.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/theme/simple.min.css" id="theme">
    <link rel="stylesheet" href="highlight-phpstorm-light-theme.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
    <link rel="stylesheet" href="style.css">
    <title>PHP 8.3 </title>
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section>
            <img src="php83.svg" alt="PHP 8.3" style="width: 70%">
        </section>

        <section>
            <h4>–ò—Å—Ç–æ—Ä–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∫–ª–∞—Å—Å–æ–≤</h4>
            <img src="class_constants_timeline.png" alt="–¢–∞–π–º–ª–∞–π–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∫–ª–∞—Å—Å–æ–≤">
        </section>

        <section>
            <h4>–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –¥–æ PHP 8.3</h4>
            <pre>
                <code class="language-php" data-trim data-line-numbers>
                    // PHP < 8.3

                    namespace Symfony\Component\HttpKernel;

                    interface HttpKernelInterface
                    {
                        public const MAIN_REQUEST = 1;
                    }

                    interface MessedUpKernel extends HttpKernelInterface
                    {
                                                    ‚úÖüò¢
                        public const MAIN_REQUEST = [];
                    }
                </code>
            </pre>
        </section>

        <section>
            <h4>–¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ PHP 8.3</h4>
            <pre>
                <code class="language-php" data-trim data-line-numbers>
                    // PHP >= 8.3

                    namespace Symfony\Component\HttpKernel;

                    interface HttpKernelInterface
                    {
                        public const int MAIN_REQUEST = 1;
                    }

                    interface MessedUpKernel extends HttpKernelInterface
                    {
                                                    ‚ùåüòä
                        public const MAIN_REQUEST = [];
                    }

                    $reflClass = new ReflectionClass(HttpKernelInterface::class);
                    $reflClass->getReflectionConstant('MAIN_REQUEST')->getType();
                </code>
            </pre>
            <p class="rfc"><a href="https://wiki.php.net/rfc/typed_class_constants">RFC</a></p>
        </section>

        <section>
            <h4>–ß—Ç–æ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏?</h4>
            <pre>
                <code class="language-php" data-trim data-line-numbers>
                    // –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
                    $$variableName

                    // —Å–≤–æ–π—Å—Ç–≤–∞
                    $object->$propertyName
                    MyClass::${$staticPropertyName}

                    // –º–µ—Ç–æ–¥—ã
                    $object->{$methodName}()
                    MyClass::{$staticMethodName}()

                    // –∫–ª–∞—Å—Å—ã –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã–∑–æ–≤–∞—Ö
                    $className::$staticProperty
                    $className::staticMethod()

                    // –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∫–ª–∞—Å—Å–∞???
                </code>
            </pre>
        </section>

        <section>
            <h4>–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –¥–æ—Å—Ç—É–ø <br> –∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º –∫–ª–∞—Å—Å–∞ –≤ PHP 8.3</h4>
            <pre>
                <code class="language-php" data-trim data-line-numbers>
                    enum AwesomeLanguages
                    {
                        case PHP;
                    }

                    $constantName = 'PHP';

                    // PHP < 8.3
                    constant(AwesomeLanguages::class . "::{$constantName}");

                    // PHP >= 8.3
                    AwesomeLanguages::{$constantName};
                </code>
            </pre>
            <p class="rfc"><a href="https://wiki.php.net/rfc/dynamic_class_constant_fetch">RFC</a></p>
        </section>

        <section>
            <h4>–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö</h4>
            <pre>
                <code class="language-php" data-trim data-line-numbers>
                    // PHP < 8.3
                    function x(): void
                    {
                                                 ‚ùåü§î
                        static $staticVariable = [new SplFileInfo(__FILE__)];
                    }

                    // PHP >= 8.3
                    function x(): void
                    {
                                                 ‚úÖüòä
                        static $staticVariable = [new SplFileInfo(__FILE__)];
                    }
                </code>
            </pre>
            <p class="rfc"><a href="https://wiki.php.net/rfc/arbitrary_static_variable_initializers">RFC</a></p>
        </section>

        <section>
            <h4>–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –¥–æ PHP 8.3</h4>
            <pre>
                <code class="language-php" data-trim data-line-numbers>
                    // PHP < 8.3

                    use PHPUnit\Framework\TestCase;
                    use Symfony\Component\Filesystem\Filesystem;

                    final class MyTest extends TestCase
                    {
                                           ‚úÖüò¢
                        protected function taerDown(): void
                        {
                            (new Filesystem())->remove(__DIR__ . '/generated');
                        }
                    }
                </code>
            </pre>
        </section>

        <section>
            <h4>–ê—Ç—Ä–∏–±—É—Ç #[Override] –≤ PHP 8.3</h4>
            <pre>
                <code class="language-php" data-trim data-line-numbers>
                    // PHP >= 8.3

                    use PHPUnit\Framework\TestCase;
                    use Symfony\Component\Filesystem\Filesystem;

                    final class MyTest extends TestCase
                    {
                        #[Override]        ‚ùåüòä
                        protected function taerDown(): void
                        {
                            (new Filesystem())->remove(__DIR__ . '/generated');
                        }
                    }
                </code>
            </pre>
            <p class="rfc"><a href="https://wiki.php.net/rfc/marking_overriden_methods">RFC</a></p>
        </section>

        <section>
            <h4>–ì–ª—É–±–æ–∫–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ <br> readonly —Å–≤–æ–π—Å—Ç–≤ –¥–æ PHP 8.3</h4>
            <pre>
                <code class="language-php" data-trim data-line-numbers>
                    // PHP < 8.3

                    final readonly class PhpRelease
                    {
                        public function __construct(
                            public string $version,
                            public string $manager,
                            public DateTime $date,
                        ) {}

                        public function __clone(): void
                        {
                                        ‚ùå
                            $this->date = clone $this->date;
                        }
                    }
                </code>
            </pre>
        </section>

        <section>
            <h4>–ì–ª—É–±–æ–∫–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ <br> readonly —Å–≤–æ–π—Å—Ç–≤ –≤ PHP 8.3</h4>
            <pre>
                <code class="language-php" data-trim data-line-numbers>
                    // PHP >= 8.3

                    final readonly class PhpRelease
                    {
                        public function __construct(
                            public string $version,
                            public string $manager,
                            public DateTime $date,
                        ) {}

                        public function __clone(): void
                        {
                                        ‚úÖ
                            $this->date = clone $this->date;
                        }
                    }
                </code>
            </pre>
            <p class="rfc"><a href="https://wiki.php.net/rfc/readonly_amendments">RFC</a></p>
        </section>

        <section>
            <h4>–•–æ—Ç–µ–ª–∫–∞: –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ <br> —Å —á–∞—Å—Ç–∏—á–Ω—ã–º –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º</h4>
            <pre>
                <code class="language-php" data-trim data-line-numbers>
                    // PHP 8.4 üôè

                    final readonly class PhpRelease
                    {
                        public function __construct(
                            public string $version,
                            public string $manager,
                            public DateTime $date,
                        ) {}

                        public function withDate(DateTime $date): self
                        {
                            return clone $this with {
                                date: $date,
                            };
                        }
                    }
                </code>
            </pre>
            <p class="rfc"><a href="https://wiki.php.net/rfc/clone_with">RFC</a></p>
        </section>

        <section>
            <h4>–í–∞–ª–∏–¥–∞—Ü–∏—è JSON –¥–æ PHP 8.3</h4>
            <pre>
                <code class="language-php" data-trim data-line-numbers>
                    // PHP < 8.3

                    function json_validate(string $string): bool
                    {
                        json_decode($string);

                        return json_last_error() === JSON_ERROR_NONE;
                    }
                </code>
            </pre>
            <pre class="fragment">
                <code class="language-php" data-trim data-line-numbers>
                    // PHP < 8.3

                    function json_validate(string $string): bool
                    {
                        try {
                            json_decode($string, flags: JSON_THROW_ON_ERROR);

                            return true;
                        } catch (JsonException) {
                            return false;
                        }
                    }
                </code>
            </pre>
        </section>

        <section>
            <h4>–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è json_validate() –≤ PHP 8.3</h4>
            <pre>
                <code class="language-php" data-trim data-line-numbers>
                    // PHP >= 8.3

                    json_validate('{"Hello": "World!"}'); // true

                    json_validate('{"Hello": }'); // false
                </code>
            </pre>
            <p class="rfc">
                <a href="https://wiki.php.net/rfc/json_validate">RFC</a>
                | <a href="https://www.php.net/manual/en/function.json-validate.php">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a>
                | <a href="https://github.com/symfony/polyfill-php83">Symfony –ø–æ–ª–∏—Ñ–∏–ª</a>
            </p>
        </section>

        <section>
            <h4>–ö–∞–∫–æ–π –∫–ª—é—á –±—É–¥–µ—Ç —É –≤—Ç–æ—Ä–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞?</h4>
            <pre>
                <code class="language-php" data-trim data-line-numbers>
                    $array = [];

                    $array[-5] = 'b';
                    $array[] = 'c';

                    var_dump($array);
                </code>
            </pre>
            <pre class="fragment">
                <code class="language-php" data-trim data-line-numbers>
                    // PHP < 8.3
                    array(2) {
                      [-5] => string(1) "b"
                      [0] => string(1) "c"
                    }

                    // PHP >= 8.3
                    array(2) {
                      [-5] => string(1) "b"
                      [-4] => string(1) "c"
                    }
                </code>
            </pre>
        </section>

        <section>
            <h4>–ö–∞–∫–∏–µ –∫–ª—é—á–∏ –±—É–¥—É—Ç –≤ –º–∞—Å—Å–∏–≤–µ?</h4>
            <pre>
                <code class="language-php" data-trim data-line-numbers>
                    $array = [];

                    $array[] = 'a';
                    $array[-5] = 'b';
                    $array[] = 'c';
                    $array[5] = 'd';
                    $array[] = 'e';

                    var_dump($array);
                </code>
            </pre>
            <pre class="fragment">
                <code class="language-php" data-trim data-line-numbers>
                    // PHP < 8.3 && >= 8.3
                    array(5) {
                      [0] => string(1) "a"
                      [-5] => string(1) "b"
                      [1] => string(1) "c"
                      [5] => string(1) "d"
                      [6] => string(1) "e"
                    }
                </code>
            </pre>
        </section>

        <section>
            <h4>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Randomizer –≤ PHP 8.3</h4>
            <pre>
                <code class="language-php" data-trim data-line-numbers>
                    $randomizer = new Random\Randomizer();

                    echo $randomizer->nextFloat(); // 0.57721566490153 ü§î

                    echo $randomizer->getFloat(-M_E, M_PI); // 2.1484303282097

                    echo $dogName = $randomizer->getBytesFromString('My', 4); // MyMy
                </code>
            </pre>
            <p class="rfc">
                <a href="https://wiki.php.net/rfc/randomizer_additions">RFC</a>
                | <a href="https://www.php.net/manual/ru/class.random-randomizer.php">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a>
            </p>
        </section>

        <section>
            <h4>–ß—Ç–æ –µ—â—ë –ø–æ—á–∏—Ç–∞—Ç—å –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å</h4>
            <ul class="links">
                <li>üì∞ <a href="https://www.php.net/releases/8.3/ru.php">PHP 8.3.0 Release Announcement</a></li>
                <li>üì∞ <a href="https://stitcher.io/blog/new-in-php-83">Stitcher.io</a></li>
                <li>üì∞ <a href="https://php.watch/versions/8.3">PHP.Watch</a></li>
                <li>üì∞ <a href="https://sergeymukhin.com/blog/chto-novogo-v-php-83">–ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ PHP 8.3 (–°–µ—Ä–≥–µ–π –ú—É—Ö–∏–Ω)</a></li>
                <li>‚ñ∂Ô∏è <a href="https://www.youtube.com/watch?v=nJFsD0bnlTI">What's new in PHP 8.3 (PHP Annotated)</a></li>
                <li>‚ñ∂Ô∏è <a href="https://www.youtube.com/watch?v=VWryF035B6U">Celebrating PHP 8.3 ü•≥ (PHP Annotated)</a></li>
                <li>‚ñ∂Ô∏è <a href="https://www.youtube.com/watch?v=mGf_ShkSdmE">Breaking changes in PHP 8.3! (PHP Annotated)</a></li>
                <li>‚ñ∂Ô∏è <a href="https://www.youtube.com/watch?v=jc8GRRx91M0">–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ PHP 8.3. –û–±–∑–æ—Ä –Ω–æ–≤–æ–≤–≤–µ–¥–µ–Ω–∏–π (CutCode)</a></li>
            </ul>
        </section>

        <section>
            <h4>–ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é</h4>
            <pre>
                <code class="language-shell" data-trim data-line-numbers>
                    composer why-not php '^8.3'
                </code>
            </pre>
            <pre class="fragment">
                <code class="language-shell" data-trim data-line-numbers>
                    composer require php '^8.3'
                </code>
            </pre>
        </section>

        <section>
            <h4>–ù–µ –∑–∞–±—ã–≤–∞–µ–º –ø—Ä–æ Rector!</h4>
            <pre>
                <code class="language-shell" data-trim data-line-numbers>
                    composer require --dev rector/rector
                </code>
            </pre>
            <pre class="fragment">
                <code class="language-php" data-trim data-line-numbers>
                    // rector.php

                    return static function (RectorConfig $rectorConfig): void {
                        $rectorConfig->parallel();
                        $rectorConfig->paths([
                            __DIR__ . '/src',
                            __DIR__ . '/tests',
                        ]);
                        $rectorConfig->sets([
                            LevelSetList::UP_TO_PHP_83, ‚úÖ
                        ]);
                    };
                </code>
            </pre>
            <pre class="fragment">
                <code class="language-shell" data-trim data-line-numbers>
                    php vendor/bin/rector process
                </code>
            </pre>
        </section>

        <section>
            <h2>–ü—Ä–æ–≥—Ä–µ—Å—Å –∏–ª–∏ —Å—Ç–∞–≥–Ω–∞—Ü–∏—è?</h2>
        </section>

        <section>
            <table style="color: white; font-size: 16px;">
                <tr><td>4.0.0</td><td>2000, May</td><td>Zend Engine</td></tr>
                <tr><td>4.1.0</td><td>2001, December</td><td>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —É–ª—É—á—à–µ–Ω–∞ –ø–æ–¥–¥. Windows</td></tr>
                <tr><td>4.2.0</td><td>2002, April</td><td>–°—É–ø–µ—Ä–≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ</td></tr>
                <tr><td>4.3.0</td><td>2002, December</td><td>CLI, Streams API</td></tr>
                <tr><td>4.4.0</td><td>2005, July</td><td>Maintenance release</td></tr>
                <tr><td>5.0.0</td><td>2004, July</td><td>Zend Engine 2, –û–û–ü, SimpleXML, SOAP, MySQLi, SQLite</td></tr>
                <tr><td>5.1.0</td><td>2005, November</td><td>–ü–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞—Ç, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</td></tr>
                <tr><td>5.2.0</td><td>2006, November</td><td>–£–ª—É—á—à–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å –ø–∞–º—è—Ç—å—é, JSON, ZIP, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤</td></tr>
                <tr><td>5.3.0</td><td>2009, June</td><td>–ù–µ–π–º—Å–ø–µ–π—Å—ã, LSB, –∑–∞–º—ã–∫–∞–Ω–∏—è, goto</td></tr>
                <tr><td>5.4.0</td><td>2012, February</td><td>–¢—Ä–µ–π—Ç—ã, [], –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä</td></tr>
                <tr><td>5.5.0</td><td>2013, June</td><td>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã, finally, ::class, OPcache</td></tr>
                <tr><td>5.6.0</td><td>2014, August</td><td>–û–ø–µ—Ä–∞—Ç–æ—Ä ..., —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞ –º–∞—Å—Å–∏–≤–æ–≤, –∏–º–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–π</td></tr>
                <tr><td>7.0.0</td><td>2015, December</td><td>Zend Engine 3, —Å–∫–∞–ª—è—Ä–Ω—ã–µ –∏ –≤–æ–∑–≤—Ä. —Ç–∏–ø—ã, ??, <=>, –∞–Ω–æ–Ω–∏–º–Ω—ã–µ –∫–ª–∞—Å—Å—ã</td></tr>
                <tr><td>7.1.0</td><td>2016, November</td><td>Nullable —Ç–∏–ø—ã, –≤–∏–¥–∏–º–æ—Å—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç, void, iterable</td></tr>
                <tr><td>7.2.0</td><td>2017, November</td><td>–¢–∏–ø object, Sodium</td></tr>
                <tr><td>7.3.0</td><td>2018, December</td><td>–ì–∏–±–∫–∏–π heredoc, –∫–æ–Ω–µ—á–Ω–∞—è –∑–∞–ø—è—Ç–∞—è –≤ –≤—ã–∑–æ–≤–∞—Ö, —É–ª—É—á—à–µ–Ω GC</td></tr>
                <tr><td>7.4.0</td><td>2019, November</td><td>–¢–∏–ø–∏–∑–∞—Ü–∏—è —Å–≤–æ–π—Å—Ç–≤, —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ-—Ü–∏–∏, ??=, preloading, FFI</td></tr>
                <tr><td>8.0.0</td><td>2020, November</td><td>Named –∞—Ä–≥—É–º–µ–Ω—Ç—ã, #[Attribute], promoted —Å–≤-–≤–∞, |-—Ç–∏–ø—ã, match, JIT</td></tr>
                <tr><td>8.1.0</td><td>2021, November</td><td>Enum, Fiber, (...), &-—Ç–∏–ø—ã, never, readonly, new –≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–∞—Ö</td></tr>
                <tr><td>8.2.0</td><td>2022, December</td><td>#[SensitiveParameter], null, false —Ç–∏–ø—ã, readonly –∫–ª–∞—Å—Å—ã</td></tr>
                <tr><td>8.3.0</td><td>2023, November</td><td>–¢–∏–ø—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∫–ª–∞—Å—Å–æ–≤, #[Override], –≥–ª—É–±–æ–∫–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ readonly</td></tr>
            </table>
        </section>

        <section>
            <img src="php_updated_files_graph.png" alt="">
        </section>

        <section>
            <img src="php_added_lines_graph.png" alt="">
        </section>

        <section>
            <img src="php_deleted_lines_graph.png" alt="">
        </section>

        <section>
            <h4>–í—Å–µ—Ö —Å —Ä–µ–ª–∏–∑–æ–º üéâ</h4>
            <img src="php_cannot_die.jpg" alt="PHP cannot die!" style="margin: 10px 0 40px; width: 70%; ">
            <p style="font-size: 30px;"><a href="https://t.me/vudaltsov">@vudaltsov</a> / <a href="https://t.me/phpyh">–ü—ã—Ö</a> / <a href="https://youtube.com/@PHPPoint">PHP Point</a></p>
        </section>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/reveal.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.6.1/plugin/highlight/highlight.min.js"></script>
<script>
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        plugins: [RevealHighlight],
        slideNumber: true,
        autoAnimate: true,
    });
</script>
</body>
</html>
